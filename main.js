!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e,r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._likes=e.likes,this._owner=e.owner,this._id=e._id,this._cardTemplate=r,this._popupSelector=n,this._deleteSelector=o}var r,n;return r=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".card").cloneNode(!0)}},{key:"_handleCardClick",value:function(){this._popupSelector.open(this._name,this._link)}},{key:"_setEventListeners",value:function(){var t=this,e=this._element.querySelector(".card__image"),r=this._element.querySelector(".card__title"),n=this._element.querySelector(".card__garbage-can"),o=this._element.querySelector(".card__button"),i=this._element.querySelector(".card__likes");n.addEventListener("click",(function(){t._handleDeleteIconClick()})),e.addEventListener("click",(function(){t._handleCardClick()})),this._element.id=this._id,r.textContent=this._name,e.src=this._link,e.alt="".concat(this._name),i.textContent=this._likes.length,o.addEventListener("click",(function(e){t._handleLikeIconClick(e)}))}},{key:"_handleDeleteIconClick",value:function(){this._deleteSelector._form.tempid=this._id,this._deleteSelector.open()}},{key:"_handleLikeIconClick",value:function(t){t.target.classList.toggle("card__button_active")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=Promise.resolve(n),this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.then((function(e){e.forEach((function(e){return t._renderer(e)}))}))}},{key:"addItem",value:function(t){this._container.appendChild(t)}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}var u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=r,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),r.textContent=e,r.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_toggleButtonState",value:function(){var t=this._formElement.querySelector(this._submitButtonSelector);this._formElement.checkValidity()?(t.classList.remove(this._inactiveButtonClass),t.disabled=!1):(t.classList.add(this._inactiveButtonClass),t.disabled=!0)}},{key:"_setEventListeners",value:function(){var t=this,e=this._formElement.querySelectorAll(this._inputSelector);this._toggleButtonState(),e.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))})),this._formElement.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleClose=this._handleClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleClose),document.addEventListener("mousedown",this._handleClose)}},{key:"close",value:function(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleClose),document.removeEventListener("mousedown",this._handleClose)}},{key:"_handleClose",value:function(t){"Escape"===t.key&&this.close(),t.target===this._popup&&this.close(),t.target===this._popup.firstElementChild.firstElementChild&&this.close()}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(n);if(o){var r=v(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._popupImage=e._popup.querySelector(".modal__popup-image"),e._popupTitle=e._popup.querySelector(".modal__popup-title"),e}return e=a,(r=[{key:"open",value:function(t,e){y(v(a.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupTitle.textContent=t}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(f);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_(o)?o:String(o)),n)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},S.apply(this,arguments)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(n);if(o){var r=E(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._form=n._popup.querySelector(".form"),n._formSubmitCallback=e,n._submitButton=n._form.querySelector(".form__button"),n._fieldSelector=document.querySelector(r),n}return e=a,(r=[{key:"_getInputValues",value:function(){var t=this._form.querySelectorAll(".form__input"),e={};return t.forEach((function(t){e[t.name]=t.value})),e}},{key:"_clearInputErrors",value:function(){var t=this;this._form.querySelectorAll(".form__input").forEach((function(e){var r=e.nextElementSibling;e.classList.remove("form__input_type_error"),r.classList.remove("form__input-error_active"),r.textContent="",""===e.value&&(t._submitButton.disabled=!0,t._submitButton.classList.add("form__button_inactive"))}))}},{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t.setButtonState(!0),new Promise((function(e,r){var n=t._formSubmitCallback(t._getInputValues());n instanceof Promise?n.then(e).catch(r):e(n)})).then((function(){setTimeout((function(){t.setButtonState(!1),S(E(a.prototype),"close",t).call(t)}),1e3)})).catch((function(e){console.error(e),t.setButtonState(!1)}))}))}},{key:"close",value:function(){S(E(a.prototype),"close",this).call(this),this._clearInputErrors();var t=this._form.querySelectorAll(".form__input");this._fieldSelector.classList.contains("profile-info")?(t[0].value=this._fieldSelector.firstElementChild.textContent,t[1].value=this._fieldSelector.firstElementChild.nextElementSibling.textContent,this._submitButton.disabled=!1,this._submitButton.classList.remove("form__button_inactive")):(t.forEach((function(t){t.value=""})),this._submitButton.disabled=!0,this._submitButton.classList.add("form__button_inactive"))}},{key:"setButtonState",value:function(t){var e=this,r=0;t?(this._submitButton.disabled=!0,this._buttonInterval=setInterval((function(){++r>3&&(r=1),e._submitButton.textContent="Salvando".concat(".".repeat(r))}),250)):(clearInterval(this._buttonInterval),this._submitButton.textContent="Salvar",this._submitButton.disabled=!1)}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(f);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===w(o)?o:String(o)),n)}var o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},j.apply(this,arguments)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t))._form=r._popup.querySelector(".form"),r._formSubmitCallback=e,r}return e=a,(r=[{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._formSubmitCallback(e),j(O(a.prototype),"close",t).call(t)}))}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(f);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===L(o)?o:String(o)),n)}var o}var T=function(){function t(e){var r=e.nameSelector,n=e.aboutMeSelector,o=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=document.querySelector(r),this._aboutMeElement=document.querySelector(n),this._avatarElement=document.querySelector(o)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,aboutMe:this._aboutMeElement.textContent,avatar:this._avatarElement}}},{key:"setUserInfo",value:function(t){this._nameElement.textContent=t.name,this._aboutMeElement.textContent=t.about,this._avatarElement.setAttribute("src","".concat(t.avatar))}}])&&I(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),B=document.querySelector(".cards"),x=(document.querySelectorAll(".modal"),document.querySelector("#modal-profile"),document.querySelector(".profile-info__name")),U=document.querySelector(".profile-info__about-me"),R=document.querySelector(".profile__avatar"),A=(document.querySelector("#profile-modal__button"),document.querySelector("#modal-card"),document.querySelector("#card-modal__button"),document.querySelector("#modal-popup"),document.querySelector("#popup-modal__button"),document.querySelector(".profile-info__button")),D=(document.querySelector(".profile-info"),document.querySelector(".profile__button")),M=document.querySelector("#title-input"),V=document.querySelector("#url-input"),z=document.querySelector(".profile__edit-avatar"),N=(document.querySelectorAll("[id^='form']"),document.querySelector("#form-profile")),J=document.querySelector("#form-card"),H=(document.querySelectorAll("[id*='input']"),document.querySelector("#name-input")),Y=document.querySelector("#about-me-input"),F=document.querySelector("#avatar-input"),G=document.querySelector("#form-avatar"),K=(document.querySelectorAll(".card"),document.querySelector(".spinner")),Q=document.querySelector("#currentYear");function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===W(o)?o:String(o)),n)}var o}var Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._token=e.token}var e,r;return e=t,(r=[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}},{key:"getUserInfo",value:function(){return $(!0),fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():($(!1),Promise.reject("Error: ".concat(t.status)))})).catch((function(t){"Error: ".concat(t),console.log(t),$(!1)})).finally((function(){$(!1)}))}},{key:"editUser",value:function(t,e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:e})}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}},{key:"addNewCard",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:e,likes:[]})}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}},{key:"removeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}},{key:"removeLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}},{key:"updateAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){"Error: ".concat(t),console.log(t)}))}}])&&X(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){t?K.classList.add("spinner_visible"):K.classList.remove("spinner_visible")}Q.textContent=(new Date).getFullYear();var tt=new Z({baseUrl:"https://around.nomoreparties.co/v1/web_ptbr_04",token:"0a59ee75-18e6-488b-b0b7-62b9ce1169ca"}),et=new T({nameSelector:".profile-info__name",aboutMeSelector:".profile-info__about-me",avatarSelector:".profile__avatar"});tt.getUserInfo().then((function(t){et.setUserInfo(t),H.value=et.getUserInfo().name,Y.value=et.getUserInfo().aboutMe,F.value=et.getUserInfo().avatar,R.src=et.getUserInfo().avatar.src,x.textContent=et.getUserInfo().name,U.textContent=et.getUserInfo().aboutMe}));var rt=new u({inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},N),nt=new k("#modal-profile",(function(){tt.editUser(H.value,Y.value),x.textContent=H.value,U.textContent=Y.value}),".profile-info");A.addEventListener("click",(function(){rt.enableValidation(),nt.open()}));var ot=new u({inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},G),it=new k("#modal-avatar",(function(t){tt.updateAvatar(t.avatar_url),R.src=t.avatar_url}),".profile__container");z.addEventListener("click",(function(){F.value=R.src,ot.enableValidation(),it.open()}));var at=new q("#modal-delete",(function(t){tt.removeCard(t.target.tempid),document.getElementById(t.target.tempid).remove()})),ct=new i({items:tt.getInitialCards(),renderer:function(t){var e=new r(t,"#card-template",new b("#modal-popup"),new q("#modal-delete"));tt.getUserInfo().then((function(r){var n=e.generateCard(),o=n.querySelector(".card__likes"),i=n.querySelector(".card__button");o.textContent=t.likes.length,t.likes.forEach((function(t){t._id.includes(r._id)&&(i.setAttribute("alt","Coração marcado"),i.classList.toggle("card__button_active"))})),i.addEventListener("click",(function(){i.classList.contains("card__button_active")?tt.addLike(n.id).then((function(t){i.setAttribute("alt","Coração marcado"),o.textContent=t.likes.length})):tt.removeLike(n.id).then((function(t){i.setAttribute("alt","Coração desmarcado"),o.textContent=t.likes.length}))})),t.owner._id!==r._id&&n.querySelector(".card__garbage-can").remove(),ct.addItem(n)}))}},".cards");ct.renderItems();var ut=new u({inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},J),lt=new k("#modal-card",(function(t){tt.addNewCard(t.title,t.img_url).then((function(t){var e=new r(t,"#card-template",new b("#modal-popup"),new q("#modal-delete")).generateCard(),n=e.querySelector(".card__likes"),o=e.querySelector(".card__button");n.textContent=t.likes.length,o.addEventListener("click",(function(){o.classList.contains("card__button_active")?tt.addLike(e.id).then((function(t){o.setAttribute("alt","Coração marcado"),n.textContent=t.likes.length})):tt.removeLike(e.id).then((function(t){o.setAttribute("alt","Coração desmarcado"),n.textContent=t.likes.length}))})),B.prepend(e),M.value="",V.value="",J.lastElementChild.disabled=!0,J.lastElementChild.classList.add("form__button_inactive")}))}),".cards");D.addEventListener("click",(function(){lt.open()})),H.value=et.getUserInfo().name,Y.value=et.getUserInfo().aboutMe,F.value=et.getUserInfo().avatar.src,at.setEventListeners(),nt.setEventListeners(),ut.enableValidation(),lt.setEventListeners(),it.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZCc0osRUFBZ0JxRSxpQkFBaUJuSixVQUFXLEVBQzVDOEUsRUFBZ0JxRSxpQkFBaUJoTSxVQUFVb0MsSUFBSSx3QkFDbkQsR0FDRixHQUFHLFVBRUhrRixFQUFjcEksaUJBQWlCLFNBQVMsV0FDdEN3TSxHQUFTaE4sTUFDWCxJQUVBa0osRUFBU3ZKLE1BQVF1TCxHQUFTQyxjQUFjcE0sS0FDeENvSyxFQUFZeEosTUFBUXVMLEdBQVNDLGNBQWNqRCxRQUMzQ2tCLEVBQVl6SixNQUFRdUwsR0FBU0MsY0FBY2hELE9BQU90SCxJQUNsRGlMLEdBQWN5QixvQkFDZGpDLEdBQVlpQyxvQkFDWlIsR0FBa0J2QixtQkFDbEJ3QixHQUFTTyxvQkFDVDdCLEdBQWU2QixtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkVGVtcGxhdGUsIHBvcHVwU2VsZWN0b3IsIGRlbGV0ZVNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgdGhpcy5fZGVsZXRlU2VsZWN0b3IgPSBkZWxldGVTZWxlY3RvcjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGUpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfaGFuZGxlQ2FyZENsaWNrKCkge1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3Iub3Blbih0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZ2FyYmFnZS1jYW5cIik7XG4gICAgY29uc3QgY2FyZExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uXCIpO1xuICAgIGNvbnN0IGNhcmRMaWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZXNcIik7XG5cbiAgICBjYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVJY29uQ2xpY2soKTtcbiAgICB9KTtcblxuICAgIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudC5pZCA9IHRoaXMuX2lkO1xuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgY2FyZEltYWdlLmFsdCA9IGAke3RoaXMuX25hbWV9YDtcbiAgICBjYXJkTGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uQ2xpY2soZXZ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVEZWxldGVJY29uQ2xpY2soKSB7XG4gICAgdGhpcy5fZGVsZXRlU2VsZWN0b3IuX2Zvcm0udGVtcGlkID0gdGhpcy5faWQ7XG4gICAgdGhpcy5fZGVsZXRlU2VsZWN0b3Iub3BlbigpO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uQ2xpY2soZXZ0KSB7XG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7aXRlbXMsIHJlbmRlcmVyfSwgY2xhc3NTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBQcm9taXNlLnJlc29sdmUoaXRlbXMpO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsYXNzU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy50aGVuKChpdGVtcykgPT4ge1xyXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgaWYgKHRoaXMuX2Zvcm1FbGVtZW50LmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVDbG9zZSA9IHRoaXMuX2hhbmRsZUNsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgnbW9kYWxfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ2xvc2UpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVDbG9zZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXApIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3BvcHVwLWltYWdlJyk7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19wb3B1cC10aXRsZScpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihpbWFnZUFsdCwgaW1hZ2VTcmMpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGltYWdlQWx0O1xyXG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IGltYWdlQWx0O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgZm9ybVN1Ym1pdENhbGxiYWNrLCBmaWVsZFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdENhbGxiYWNrID0gZm9ybVN1Ym1pdENhbGxiYWNrO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYnV0dG9uJyk7XHJcbiAgICB0aGlzLl9maWVsZFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihmaWVsZFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBfY2xlYXJJbnB1dEVycm9ycygpIHtcclxuICAgIGNvbnN0IGZvcm1JbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpO1xyXG5cclxuICAgIGZvcm1JbnB1dExpc3QuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1JbnB1dC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIGZvcm1JbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgIGlmKGZvcm1JbnB1dC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZm9ybV9fYnV0dG9uX2luYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnNldEJ1dHRvblN0YXRlKHRydWUpO1xyXG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZm9ybVN1Ym1pdENhbGxiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICByZXN1bHQudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldEJ1dHRvblN0YXRlKGZhbHNlKTtcclxuICAgICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICB0aGlzLnNldEJ1dHRvblN0YXRlKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2NsZWFySW5wdXRFcnJvcnMoKTtcclxuICAgIGNvbnN0IGlucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XHJcbiAgICBpZih0aGlzLl9maWVsZFNlbGVjdG9yLmNsYXNzTGlzdC5jb250YWlucygncHJvZmlsZS1pbmZvJykpIHtcclxuICAgICAgaW5wdXRzWzBdLnZhbHVlID0gdGhpcy5fZmllbGRTZWxlY3Rvci5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudDtcclxuICAgICAgaW5wdXRzWzFdLnZhbHVlID0gdGhpcy5fZmllbGRTZWxlY3Rvci5maXJzdEVsZW1lbnRDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQ7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2J1dHRvbl9pbmFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICB9KVxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcImZvcm1fX2J1dHRvbl9pbmFjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEJ1dHRvblN0YXRlKGlzTG9hZGluZykge1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGlmKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9idXR0b25JbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIGlmKGNvdW50ID4gMykge1xyXG4gICAgICAgICAgY291bnQgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBgU2FsdmFuZG8keycuJy5yZXBlYXQoY291bnQpfWA7XHJcbiAgICAgIH0sIDI1MCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuX2J1dHRvbkludGVydmFsKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ1NhbHZhcic7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0Q2FsbGJhY2spIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLl9mb3JtU3VibWl0Q2FsbGJhY2sgPSBmb3JtU3VibWl0Q2FsbGJhY2s7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fZm9ybVN1Ym1pdENhbGxiYWNrKGV2dCk7XG4gICAgICBzdXBlci5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0TWVTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hYm91dE1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRNZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0TWU6IHRoaXMuX2Fib3V0TWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0TWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7dXNlckRhdGEuYXZhdGFyfWApO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgdG9rZW4gPSBcIjBhNTllZTc1LTE4ZTYtNDg4Yi1iMGI3LTYyYjljZTExNjljYVwiO1xuZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX3B0YnJfMDRcIjtcblxuZXhwb3J0IGNvbnN0IGNhcmRzU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIik7XG5cbmV4cG9ydCBjb25zdCBtb2RhbExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcHJvZmlsZVwiKTtcblxuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZUluZm9OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWluZm9fX25hbWVcIik7XG5leHBvcnQgY29uc3QgbW9kYWxQcm9maWxlSW5mb3JBYm91dE1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWluZm9fX2Fib3V0LW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbFByb2ZpbGVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1tb2RhbF9fYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbENhcmRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1tb2RhbF9fYnV0dG9uXCIpO1xuXG5leHBvcnQgY29uc3QgbW9kYWxQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcG9wdXBcIik7XG5leHBvcnQgY29uc3QgbW9kYWxQb3B1cEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtbW9kYWxfX2J1dHRvblwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbmZvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWluZm9fX2J1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1pbmZvXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3VybC1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWF2YXRhclwiKTtcblxuZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltpZF49J2Zvcm0nXVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtQ2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBmb3JtSW5wdXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltpZCo9J2lucHV0J11cIik7XG5leHBvcnQgY29uc3QgZm9ybU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgZm9ybUFib3V0TWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0LW1lLWlucHV0XCIpO1xuZXhwb3J0IGNvbnN0IGF2YXRhcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItaW5wdXRcIik7XG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tYXZhdGFyXCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIik7XG5cbmV4cG9ydCBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zcGlubmVyXCIpO1xuXG5leHBvcnQgY29uc3QgY3VycmVudFllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1cnJlbnRZZWFyXCIpO1xuIiwiaW1wb3J0IHsgc3Bpbm5lciB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX3Rva2VuID0gb3B0aW9ucy50b2tlbjtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGBFcnJvcjogJHtlcnJ9YFxyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmVuZGVyTG9hZGluZyh0cnVlKVxyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW5cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZW5kZXJMb2FkaW5nKGZhbHNlKVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYEVycm9yOiAke2Vycn1gXHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UpXHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICByZW5kZXJMb2FkaW5nKGZhbHNlKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlcihuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYEVycm9yOiAke2Vycn1gXHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICAgIGxpa2VzOiBbXVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYEVycm9yOiAke2Vycn1gXHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBgRXJyb3I6ICR7ZXJyfWBcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGBFcnJvcjogJHtlcnJ9YFxyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYEVycm9yOiAke2Vycn1gXHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJVcmxcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGBFcnJvcjogJHtlcnJ9YFxyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgaWYoaXNMb2FkaW5nKSB7XHJcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5hZGQoJ3NwaW5uZXJfdmlzaWJsZScpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NwaW5uZXJfdmlzaWJsZScpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGknO1xuaW1wb3J0IHtcbiAgY2FyZHNTZWN0aW9uLFxuICBjdXJyZW50WWVhcixcbiAgZWRpdEF2YXRhckJ1dHRvbixcbiAgZm9ybVByb2ZpbGVFbGVtZW50LFxuICBtb2RhbFByb2ZpbGVJbmZvTmFtZSxcbiAgbW9kYWxQcm9maWxlSW5mb3JBYm91dE1lLFxuICBmb3JtQ2FyZEVsZW1lbnQsXG4gIGNhcmRUaXRsZUlucHV0LFxuICBjYXJkSW1hZ2VJbnB1dCxcbiAgY2FyZEFkZEJ1dHRvbixcbiAgcHJvZmlsZUluZm9CdXR0b24sXG4gIGZvcm1OYW1lLFxuICBmb3JtQWJvdXRNZSxcbiAgYXZhdGFySW5wdXQsXG4gIGF2YXRhckZvcm1FbGVtZW50LFxuICBwcm9maWxlQXZhdGFyLFxuICBiYXNlVXJsLFxuICB0b2tlbixcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuY3VycmVudFllYXIudGV4dENvbnRlbnQgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBiYXNlVXJsLFxuICB0b2tlbjogdG9rZW5cbn0pO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlLWluZm9fX25hbWUnLFxuICBhYm91dE1lU2VsZWN0b3I6ICcucHJvZmlsZS1pbmZvX19hYm91dC1tZScsXG4gIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcidcbn0pXG5cbmFwaS5nZXRVc2VySW5mbygpXG4udGhlbigodXNlckRhdGEpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICBmb3JtTmFtZS52YWx1ZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkubmFtZTtcbiAgZm9ybUFib3V0TWUudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLmFib3V0TWU7XG4gIGF2YXRhcklucHV0LnZhbHVlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hdmF0YXI7XG4gIHByb2ZpbGVBdmF0YXIuc3JjID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hdmF0YXIuc3JjO1xuICBtb2RhbFByb2ZpbGVJbmZvTmFtZS50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkubmFtZTtcbiAgbW9kYWxQcm9maWxlSW5mb3JBYm91dE1lLnRleHRDb250ZW50ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hYm91dE1lO1xufSlcblxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih7XG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fYnV0dG9uX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59LCBmb3JtUHJvZmlsZUVsZW1lbnQpO1xuXG5jb25zdCBmb3JtUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjbW9kYWwtcHJvZmlsZScsICgpID0+IHtcbiAgYXBpLmVkaXRVc2VyKGZvcm1OYW1lLnZhbHVlLCBmb3JtQWJvdXRNZS52YWx1ZSlcbiAgbW9kYWxQcm9maWxlSW5mb05hbWUudGV4dENvbnRlbnQgPSBmb3JtTmFtZS52YWx1ZTtcbiAgbW9kYWxQcm9maWxlSW5mb3JBYm91dE1lLnRleHRDb250ZW50ID0gZm9ybUFib3V0TWUudmFsdWU7XG59LCAnLnByb2ZpbGUtaW5mbycpO1xuXG5wcm9maWxlSW5mb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIGZvcm1Qcm9maWxlLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioe1xuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX2J1dHRvbl9pbmFjdGl2ZScsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJ1xufSwgYXZhdGFyRm9ybUVsZW1lbnQpO1xuXG5jb25zdCBlZGl0QXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjbW9kYWwtYXZhdGFyJywgKGZvcm1EYXRhKSA9PiB7XG4gIGFwaS51cGRhdGVBdmF0YXIoZm9ybURhdGEuYXZhdGFyX3VybClcbiAgcHJvZmlsZUF2YXRhci5zcmMgPSBmb3JtRGF0YS5hdmF0YXJfdXJsO1xufSwgJy5wcm9maWxlX19jb250YWluZXInKTtcblxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJJbnB1dC52YWx1ZSA9IHByb2ZpbGVBdmF0YXIuc3JjO1xuICBhdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgZWRpdEF2YXRhckZvcm0ub3BlbigpO1xufSlcblxuY29uc3QgY29uZmlybURlbGV0ZSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJyNtb2RhbC1kZWxldGUnLCAoaXRlbSkgPT4ge1xuICBhcGkucmVtb3ZlQ2FyZChpdGVtLnRhcmdldC50ZW1waWQpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpdGVtLnRhcmdldC50ZW1waWQpLnJlbW92ZSgpO1xufSk7XG5cbmNvbnN0IGluaXRpYWxDYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbiAoe1xuICBpdGVtczogYXBpLmdldEluaXRpYWxDYXJkcygpLFxuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXG4gICAgICBpdGVtLFxuICAgICAgJyNjYXJkLXRlbXBsYXRlJyxcbiAgICAgIG5ldyBQb3B1cFdpdGhJbWFnZSgnI21vZGFsLXBvcHVwJyksXG4gICAgICBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKCcjbW9kYWwtZGVsZXRlJylcbiAgICAgICk7XG4gICAgICBhcGkuZ2V0VXNlckluZm8oKVxuICAgICAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdHVhbENhcmQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICBjb25zdCBhY3R1YWxDYXJkTGlrZXMgPSBhY3R1YWxDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlcycpO1xuICAgICAgICBjb25zdCBhY3R1YWxDYXJkTGlrZUJ1dHRvbiA9IGFjdHVhbENhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbicpO1xuXG4gICAgICAgIGFjdHVhbENhcmRMaWtlcy50ZXh0Q29udGVudCA9IGl0ZW0ubGlrZXMubGVuZ3RoO1xuXG4gICAgICAgIGl0ZW0ubGlrZXMuZm9yRWFjaCgobGlrZUluZm8pID0+IHtcbiAgICAgICAgICBpZihsaWtlSW5mby5faWQuaW5jbHVkZXModXNlckluZm8uX2lkKSkge1xuICAgICAgICAgICAgYWN0dWFsQ2FyZExpa2VCdXR0b24uc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29yYcOnw6NvIG1hcmNhZG9cIik7XG4gICAgICAgICAgICBhY3R1YWxDYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgYWN0dWFsQ2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYoYWN0dWFsQ2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fYnV0dG9uX2FjdGl2ZVwiKSkge1xuICAgICAgICAgICAgYXBpLmFkZExpa2UoYWN0dWFsQ2FyZC5pZClcbiAgICAgICAgICAgIC50aGVuKChuZXdMaWtlcykgPT4ge1xuICAgICAgICAgICAgICBhY3R1YWxDYXJkTGlrZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb3Jhw6fDo28gbWFyY2Fkb1wiKTtcbiAgICAgICAgICAgICAgYWN0dWFsQ2FyZExpa2VzLnRleHRDb250ZW50ID0gbmV3TGlrZXMubGlrZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBpLnJlbW92ZUxpa2UoYWN0dWFsQ2FyZC5pZClcbiAgICAgICAgICAgIC50aGVuKChuZXdMaWtlcyk9PiB7XG4gICAgICAgICAgICAgIGFjdHVhbENhcmRMaWtlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIkNvcmHDp8OjbyBkZXNtYXJjYWRvXCIpO1xuICAgICAgICAgICAgICBhY3R1YWxDYXJkTGlrZXMudGV4dENvbnRlbnQgPSBuZXdMaWtlcy5saWtlcy5sZW5ndGg7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZihpdGVtLm93bmVyLl9pZCAhPT0gdXNlckluZm8uX2lkKSB7XG4gICAgICAgICAgYWN0dWFsQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZ2FyYmFnZS1jYW4nKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0aWFsQ2FyZHNTZWN0aW9uLmFkZEl0ZW0oYWN0dWFsQ2FyZCk7XG5cbiAgICB9KVxuICB9XG59LCAnLmNhcmRzJyk7XG5cbmluaXRpYWxDYXJkc1NlY3Rpb24ucmVuZGVySXRlbXMoKTtcblxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih7XG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fYnV0dG9uX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59LCBmb3JtQ2FyZEVsZW1lbnQpO1xuXG5jb25zdCBmb3JtQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjbW9kYWwtY2FyZCcsIChmb3JtRGF0YSkgPT4ge1xuICBhcGkuYWRkTmV3Q2FyZChmb3JtRGF0YS50aXRsZSwgZm9ybURhdGEuaW1nX3VybClcbiAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxuICAgICAgY2FyZERhdGEsXG4gICAgICAnI2NhcmQtdGVtcGxhdGUnLFxuICAgICAgbmV3IFBvcHVwV2l0aEltYWdlKCcjbW9kYWwtcG9wdXAnKSxcbiAgICAgIG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJyNtb2RhbC1kZWxldGUnKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFjdHVhbENhcmQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgY29uc3QgYWN0dWFsQ2FyZExpa2VzID0gYWN0dWFsQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZXMnKTtcbiAgICAgIGNvbnN0IGFjdHVhbENhcmRMaWtlQnV0dG9uID0gYWN0dWFsQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fYnV0dG9uJyk7XG5cbiAgICAgIGFjdHVhbENhcmRMaWtlcy50ZXh0Q29udGVudCA9IGNhcmREYXRhLmxpa2VzLmxlbmd0aDtcblxuICAgICAgYWN0dWFsQ2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmKGFjdHVhbENhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2J1dHRvbl9hY3RpdmVcIikpIHtcbiAgICAgICAgICBhcGkuYWRkTGlrZShhY3R1YWxDYXJkLmlkKVxuICAgICAgICAgIC50aGVuKChuZXdMaWtlcykgPT4ge1xuICAgICAgICAgICAgYWN0dWFsQ2FyZExpa2VCdXR0b24uc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29yYcOnw6NvIG1hcmNhZG9cIik7XG4gICAgICAgICAgICBhY3R1YWxDYXJkTGlrZXMudGV4dENvbnRlbnQgPSBuZXdMaWtlcy5saWtlcy5sZW5ndGg7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcGkucmVtb3ZlTGlrZShhY3R1YWxDYXJkLmlkKVxuICAgICAgICAgIC50aGVuKChuZXdMaWtlcyk9PiB7XG4gICAgICAgICAgICBhY3R1YWxDYXJkTGlrZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb3Jhw6fDo28gZGVzbWFyY2Fkb1wiKTtcbiAgICAgICAgICAgIGFjdHVhbENhcmRMaWtlcy50ZXh0Q29udGVudCA9IG5ld0xpa2VzLmxpa2VzLmxlbmd0aDtcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjYXJkc1NlY3Rpb24ucHJlcGVuZChhY3R1YWxDYXJkKTtcbiAgICAgIGNhcmRUaXRsZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICBjYXJkSW1hZ2VJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgZm9ybUNhcmRFbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgZm9ybUNhcmRFbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZCgnZm9ybV9fYnV0dG9uX2luYWN0aXZlJyk7XG4gIH0pXG59LCAnLmNhcmRzJyk7XG5cbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZm9ybUNhcmQub3BlbigpO1xufSk7XG5cbmZvcm1OYW1lLnZhbHVlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5uYW1lO1xuZm9ybUFib3V0TWUudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLmFib3V0TWU7XG5hdmF0YXJJbnB1dC52YWx1ZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkuYXZhdGFyLnNyYztcbmNvbmZpcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmZvcm1Qcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5mb3JtQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsImNhcmRUZW1wbGF0ZSIsInBvcHVwU2VsZWN0b3IiLCJkZWxldGVTZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lciIsIm93bmVyIiwiX2lkIiwiX2NhcmRUZW1wbGF0ZSIsIl9wb3B1cFNlbGVjdG9yIiwiX2RlbGV0ZVNlbGVjdG9yIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwib3BlbiIsIl90aGlzIiwiY2FyZEltYWdlIiwiX2VsZW1lbnQiLCJjYXJkVGl0bGUiLCJjYXJkRGVsZXRlQnV0dG9uIiwiY2FyZExpa2VCdXR0b24iLCJjYXJkTGlrZXNDb3VudGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVEZWxldGVJY29uQ2xpY2siLCJfaGFuZGxlQ2FyZENsaWNrIiwiaWQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsImNvbmNhdCIsImxlbmd0aCIsImV2dCIsIl9oYW5kbGVMaWtlSWNvbkNsaWNrIiwiX2Zvcm0iLCJ0ZW1waWQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJTZWN0aW9uIiwiX3JlZiIsImNsYXNzU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwidGhlbiIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZENoaWxkIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiYWRkIiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiYnV0dG9uRWxlbWVudCIsImNoZWNrVmFsaWRpdHkiLCJkaXNhYmxlZCIsImlucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJpbWFnZUFsdCIsImltYWdlU3JjIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU3VibWl0Q2FsbGJhY2siLCJmaWVsZFNlbGVjdG9yIiwiX2Zvcm1TdWJtaXRDYWxsYmFjayIsIl9zdWJtaXRCdXR0b24iLCJfZmllbGRTZWxlY3RvciIsImlucHV0cyIsInZhbHVlcyIsImlucHV0IiwiX3RoaXMyIiwiZm9ybUlucHV0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiX3RoaXMzIiwic2V0QnV0dG9uU3RhdGUiLCJyZWplY3QiLCJyZXN1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJjYXRjaCIsInNldFRpbWVvdXQiLCJlcnJvciIsImNvbnNvbGUiLCJfY2xlYXJJbnB1dEVycm9ycyIsImNvbnRhaW5zIiwiaXNMb2FkaW5nIiwiX3RoaXM0IiwiY291bnQiLCJfYnV0dG9uSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlcGVhdCIsImNsZWFySW50ZXJ2YWwiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0TWVTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Fib3V0TWVFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJhYm91dE1lIiwiYXZhdGFyIiwidXNlckRhdGEiLCJhYm91dCIsInNldEF0dHJpYnV0ZSIsImNhcmRzU2VjdGlvbiIsIm1vZGFsUHJvZmlsZUluZm9OYW1lIiwibW9kYWxQcm9maWxlSW5mb3JBYm91dE1lIiwicHJvZmlsZUF2YXRhciIsInByb2ZpbGVJbmZvQnV0dG9uIiwiY2FyZEFkZEJ1dHRvbiIsImNhcmRUaXRsZUlucHV0IiwiY2FyZEltYWdlSW5wdXQiLCJlZGl0QXZhdGFyQnV0dG9uIiwiZm9ybVByb2ZpbGVFbGVtZW50IiwiZm9ybUNhcmRFbGVtZW50IiwiZm9ybU5hbWUiLCJmb3JtQWJvdXRNZSIsImF2YXRhcklucHV0IiwiYXZhdGFyRm9ybUVsZW1lbnQiLCJzcGlubmVyIiwiY3VycmVudFllYXIiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX3Rva2VuIiwidG9rZW4iLCJmZXRjaCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwicmVzIiwib2siLCJqc29uIiwic3RhdHVzIiwiZXJyIiwibG9nIiwicmVuZGVyTG9hZGluZyIsImZpbmFsbHkiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsImF2YXRhclVybCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImFwaSIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiZm9ybVByb2ZpbGUiLCJlZGl0VXNlciIsImVuYWJsZVZhbGlkYXRpb24iLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiZWRpdEF2YXRhckZvcm0iLCJmb3JtRGF0YSIsInVwZGF0ZUF2YXRhciIsImF2YXRhcl91cmwiLCJjb25maXJtRGVsZXRlIiwicmVtb3ZlQ2FyZCIsImdldEVsZW1lbnRCeUlkIiwiaW5pdGlhbENhcmRzU2VjdGlvbiIsImdldEluaXRpYWxDYXJkcyIsIm5ld0NhcmQiLCJhY3R1YWxDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiYWN0dWFsQ2FyZExpa2VzIiwiYWN0dWFsQ2FyZExpa2VCdXR0b24iLCJsaWtlSW5mbyIsImluY2x1ZGVzIiwiYWRkTGlrZSIsIm5ld0xpa2VzIiwicmVtb3ZlTGlrZSIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsImNhcmRGb3JtVmFsaWRhdG9yIiwiZm9ybUNhcmQiLCJhZGROZXdDYXJkIiwidGl0bGUiLCJpbWdfdXJsIiwiY2FyZERhdGEiLCJwcmVwZW5kIiwibGFzdEVsZW1lbnRDaGlsZCIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==
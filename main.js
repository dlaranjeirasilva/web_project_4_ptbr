!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===t(i)?i:String(i)),n)}var i}var r=function(){function t(e,r,o,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._link=r,this._cardTemplate=o,this._popupSelector=n}var r,o;return r=t,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".card").cloneNode(!0)}},{key:"_handleCardClick",value:function(){this._popupSelector.open(this._name,this._link)}},{key:"_setEventListeners",value:function(){var t=this,e=this._element.querySelector(".card__image"),r=this._element.querySelector(".card__title"),o=this._element.querySelector(".card__garbage-can"),n=this._element.querySelector(".card__button");e.addEventListener("click",(function(){t._handleCardClick()})),r.textContent=this._name,e.src=this._link,e.alt="".concat(this._name),o.addEventListener("click",(function(e){t._handleDeleteIconClick(e)})),n.addEventListener("click",(function(e){t._handleLikeIconClick(e)}))}},{key:"_handleDeleteIconClick",value:function(t){t.target.closest(".card").remove()}},{key:"_handleLikeIconClick",value:function(t){t.target.classList.toggle("card__button_active"),t.target.classList.contains("card__button_active")?t.target.setAttribute("alt","Coração marcado"):t.target.setAttribute("alt","Coração desmarcado")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}var i=function(){function t(e,r){var o=e.items,n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=o,this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.appendChild(t)}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===u(n)?n:String(n)),o)}var n}var a=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=r,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),r.textContent=e,r.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_toggleButtonState",value:function(){var t=this._formElement.querySelector(this._submitButtonSelector);this._formElement.checkValidity()?(t.classList.remove(this._inactiveButtonClass),t.disabled=!1):(t.classList.add(this._inactiveButtonClass),t.disabled=!0)}},{key:"_setEventListeners",value:function(){var t=this,e=this._formElement.querySelectorAll(this._inputSelector);this._toggleButtonState(),e.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))})),this._formElement.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==c(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===c(n)?n:String(n)),o)}var n}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleClose=this._handleClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleClose),document.addEventListener("mousedown",this._handleClose)}},{key:"close",value:function(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleClose),document.removeEventListener("mousedown",this._handleClose)}},{key:"_handleClose",value:function(t){"Escape"===t.key&&this.close(),t.target===this._popup&&this.close(),t.target===this._popup.firstElementChild.firstElementChild&&this.close()}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===p(n)?n:String(n)),o)}var n}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(arguments.length<3?t:r):n.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,r,o,n,i=(o=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(o);if(n){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popup.querySelector(".modal__popup-image"),e._popupTitle=e._popup.querySelector(".modal__popup-title"),e}return e=u,(r=[{key:"open",value:function(t,e){y(_(u.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupTitle.textContent=t}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function h(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==v(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===v(n)?n:String(n)),o)}var n}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(arguments.length<3?t:r):n.value}},S.apply(this,arguments)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(u,t);var e,r,o,n,i=(o=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(o);if(n){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t))._form=o._popup.querySelector(".form"),o._formSubmitCallback=e,o._submitButton=o._form.querySelector(".form__button"),o._fieldSelector=document.querySelector(r),o}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this._form.querySelectorAll(".form__input"),e={};return t.forEach((function(t){e[t.name]=t.value})),e}},{key:"_clearInputErrors",value:function(){var t=this;this._form.querySelectorAll(".form__input").forEach((function(e){var r=e.nextElementSibling;e.classList.remove("form__input_type_error"),r.classList.remove("form__input-error_active"),r.textContent="",""===e.value&&(t._submitButton.disabled=!0,t._submitButton.classList.add("form__button_inactive"))}))}},{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._formSubmitCallback(t._getInputValues()),S(w(u.prototype),"close",t).call(t)}))}},{key:"close",value:function(){S(w(u.prototype),"close",this).call(this),this._clearInputErrors(),this._fieldSelector.classList.contains("profile-info")?(this._form.querySelectorAll(".form__input")[0].value=this._fieldSelector.firstElementChild.textContent,this._form.querySelectorAll(".form__input")[1].value=this._fieldSelector.firstElementChild.nextElementSibling.textContent,this._submitButton.disabled=!1,this._submitButton.classList.remove("form__button_inactive")):(this._form.querySelectorAll(".form__input")[0].value="",this._form.querySelectorAll(".form__input")[1].value="",this._submitButton.disabled=!0,this._submitButton.classList.add("form__button_inactive"))}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function k(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===C(n)?n:String(n)),o)}var n}var j=function(){function t(e){var r=e.nameSelector,o=e.aboutMeSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=document.querySelector(r),this._aboutMeElement=document.querySelector(o)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,aboutMe:this._aboutMeElement.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,r=t.aboutMe;this._nameElement.textContent=e,this._aboutMeElement.textContent=r}}])&&k(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),O=document.querySelector(".cards"),q=(document.querySelectorAll(".modal"),document.querySelector("#modal-profile"),document.querySelector(".profile-info__name"),document.querySelector(".profile-info__about-me"),document.querySelector("#profile-modal__button"),document.querySelector("#modal-card"),document.querySelector("#card-modal__button"),document.querySelector("#modal-popup"),document.querySelector("#popup-modal__button"),document.querySelector(".profile-info__button")),P=(document.querySelector(".profile-info"),document.querySelector(".profile__button")),L=document.querySelector("#title-input"),B=document.querySelector("#url-input"),I=(document.querySelectorAll("[id^='form']"),document.querySelector("#form-profile")),T=document.querySelector("#form-card"),R=(document.querySelectorAll("[id*='input']"),document.querySelector("#name-input")),x=document.querySelector("#about-me-input"),A=new j({nameSelector:".profile-info__name",aboutMeSelector:".profile-info__about-me"}),M=new a({inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},I),V=new E("#modal-profile",(function(){A.setUserInfo({name:R.value,aboutMe:x.value})}),".profile-info");q.addEventListener("click",(function(){V.open()}));var D=new a({inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},T),z=new E("#modal-card",(function(t){var e=t["img-url"],o=t.title,n=new r(o,e,"#card-template",new b("#modal-popup"));O.prepend(n.generateCard()),L.value="",B.value="",T.lastElementChild.disabled=!0,T.lastElementChild.classList.add("form__button_inactive")}),".cards");P.addEventListener("click",(function(){z.open()}));var U=new i({items:[{name:"Vale de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lake-louise.jpg"},{name:"Montanhas Carecas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_latemar.jpg"},{name:"Parque Nacional da Vanoise ",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lago.jpg"}],renderer:function(t){var e=new r(t.name,t.link,"#card-template",new b("#modal-popup"));U.addItem(e.generateCard())}},".cards");U.renderItems(),R.value=A.getUserInfo().name,x.value=A.getUserInfo().aboutMe,M.enableValidation(),V.setEventListeners(),D.enableValidation(),z.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZDRyxNRHJFMEIsQ0FDMUIsQ0FDRTVDLEtBQU0sbUJBQ05DLEtBQU0sb0ZBRVIsQ0FDRUQsS0FBTSxjQUNOQyxLQUFNLHVGQUVSLENBQ0VELEtBQU0sb0JBQ05DLEtBQU0sMEZBRVIsQ0FDRUQsS0FBTSxVQUNOQyxLQUFNLG1GQUVSLENBQ0VELEtBQU0sOEJBQ05DLEtBQU0sbUZBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSxpRkMrQ1I0QyxTQUFVLFNBQUNLLEdBQ1QsSUFBTTZGLEVBQVUsSUFBSWhKLEVBQ2xCbUQsRUFBS2xELEtBQ0xrRCxFQUFLakQsS0FDTCxpQkFDQSxJQUFJMkYsRUFBZSxpQkFFckJ1RCxFQUFvQkMsUUFBUUwsRUFBUUUsZUFDdEMsR0FDQyxVQUVIRSxFQUFvQkUsY0FDcEJmLEVBQVMzSCxNQUFRNkgsRUFBU2MsY0FBY3RKLEtBQ3hDdUksRUFBWTVILE1BQVE2SCxFQUFTYyxjQUFjekIsUUFDM0NZLEVBQXFCYyxtQkFDckJiLEVBQVljLG9CQUNaWixFQUFrQlcsbUJBQ2xCVixFQUFTVyxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIGNhcmRUZW1wbGF0ZSwgcG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGUpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfaGFuZGxlQ2FyZENsaWNrKCkge1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3Iub3Blbih0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZ2FyYmFnZS1jYW5cIik7XG4gICAgY29uc3QgY2FyZExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uXCIpO1xuXG4gICAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgfSlcblxuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgY2FyZEltYWdlLmFsdCA9IGAke3RoaXMuX25hbWV9YDtcblxuICAgIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUljb25DbGljayhldnQpO1xuICAgIH0pO1xuXG4gICAgY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uQ2xpY2soZXZ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVEZWxldGVJY29uQ2xpY2soZXZ0KSB7XG4gICAgZXZ0LnRhcmdldC5jbG9zZXN0KFwiLmNhcmRcIikucmVtb3ZlKCk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUljb25DbGljayhldnQpIHtcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19idXR0b25fYWN0aXZlXCIpO1xuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2J1dHRvbl9hY3RpdmVcIikpIHtcbiAgICAgIGV2dC50YXJnZXQuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29yYcOnw6NvIG1hcmNhZG9cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2dC50YXJnZXQuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29yYcOnw6NvIGRlc21hcmNhZG9cIik7XG4gICAgfVxuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7aXRlbXMsIHJlbmRlcmVyfSwgY2xhc3NTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgaWYgKHRoaXMuX2Zvcm1FbGVtZW50LmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgaW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUNsb3NlID0gdGhpcy5faGFuZGxlQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgnbW9kYWxfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUNsb3NlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ2xvc2UpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVDbG9zZShldnQpIHtcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIGlmKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgaWYoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXAuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3BvcHVwLWltYWdlJyk7XG4gICAgdGhpcy5fcG9wdXBUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fcG9wdXAtdGl0bGUnKTtcbiAgfVxuXG4gIG9wZW4oaW1hZ2VBbHQsIGltYWdlU3JjKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBpbWFnZUFsdDtcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gaW1hZ2VBbHQ7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0Q2FsbGJhY2ssIGZpZWxkU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLl9mb3JtU3VibWl0Q2FsbGJhY2sgPSBmb3JtU3VibWl0Q2FsbGJhY2s7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYnV0dG9uJyk7XG4gICAgdGhpcy5fZmllbGRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZmllbGRTZWxlY3Rvcik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBfY2xlYXJJbnB1dEVycm9ycygpIHtcbiAgICBjb25zdCBmb3JtSW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcblxuICAgIGZvcm1JbnB1dExpc3QuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtSW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgZm9ybUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIpO1xuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgaWYoZm9ybUlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcImZvcm1fX2J1dHRvbl9pbmFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9mb3JtU3VibWl0Q2FsbGJhY2sodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICBzdXBlci5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9jbGVhcklucHV0RXJyb3JzKCk7XG4gICAgaWYodGhpcy5fZmllbGRTZWxlY3Rvci5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2ZpbGUtaW5mbycpKSB7XG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpWzBdLnZhbHVlID0gdGhpcy5fZmllbGRTZWxlY3Rvci5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudDtcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0JylbMV0udmFsdWUgPSB0aGlzLl9maWVsZFNlbGVjdG9yLmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudDtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19idXR0b25faW5hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0JylbMF0udmFsdWUgPSAnJ1xuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKVsxXS52YWx1ZSA9ICcnO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZm9ybV9fYnV0dG9uX2luYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRNZVNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dE1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRNZVNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0TWU6IHRoaXMuX2Fib3V0TWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0TWUgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9hYm91dE1lRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0TWU7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGUgZGUgWW9zZW1pdGVcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfeW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb250YW5oYXMgQ2FyZWNhc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGEgVmFub2lzZSBcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBjYXJkc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpO1xuXG5leHBvcnQgY29uc3QgbW9kYWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLXByb2ZpbGVcIik7XG5cbmV4cG9ydCBjb25zdCBtb2RhbFByb2ZpbGVJbmZvTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1pbmZvX19uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZUluZm9yQWJvdXRNZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1pbmZvX19hYm91dC1tZVwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbFByb2ZpbGVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1tb2RhbF9fYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbENhcmRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1tb2RhbF9fYnV0dG9uXCIpO1xuXG5leHBvcnQgY29uc3QgbW9kYWxQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcG9wdXBcIik7XG5leHBvcnQgY29uc3QgbW9kYWxQb3B1cEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtbW9kYWxfX2J1dHRvblwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbmZvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWluZm9fX2J1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1pbmZvXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3VybC1pbnB1dFwiKTtcblxuZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltpZF49J2Zvcm0nXVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtQ2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBmb3JtSW5wdXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltpZCo9J2lucHV0J11cIik7XG5leHBvcnQgY29uc3QgZm9ybU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgZm9ybUFib3V0TWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0LW1lLWlucHV0XCIpO1xuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtcbiAgY2FyZHNTZWN0aW9uLFxuICBpbml0aWFsQ2FyZHMsXG4gIGZvcm1Qcm9maWxlRWxlbWVudCxcbiAgZm9ybUNhcmRFbGVtZW50LFxuICBjYXJkVGl0bGVJbnB1dCxcbiAgY2FyZEltYWdlSW5wdXQsXG4gIGNhcmRBZGRCdXR0b24sXG4gIHByb2ZpbGVJbmZvQnV0dG9uLFxuICBmb3JtTmFtZSxcbiAgZm9ybUFib3V0TWVcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZS1pbmZvX19uYW1lJyxcbiAgYWJvdXRNZVNlbGVjdG9yOiAnLnByb2ZpbGUtaW5mb19fYWJvdXQtbWUnXG59KVxuXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHtcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdmb3JtX19idXR0b25faW5hY3RpdmUnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0LWVycm9yX2FjdGl2ZSdcbn0sIGZvcm1Qcm9maWxlRWxlbWVudCk7XG5cbmNvbnN0IGZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNtb2RhbC1wcm9maWxlJywgKCkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7bmFtZTogZm9ybU5hbWUudmFsdWUsIGFib3V0TWU6IGZvcm1BYm91dE1lLnZhbHVlfSlcbn0sICcucHJvZmlsZS1pbmZvJyk7XG5cbnByb2ZpbGVJbmZvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGZvcm1Qcm9maWxlLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHtcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdmb3JtX19idXR0b25faW5hY3RpdmUnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0LWVycm9yX2FjdGl2ZSdcbn0sIGZvcm1DYXJkRWxlbWVudCk7XG5cbmNvbnN0IGZvcm1DYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNtb2RhbC1jYXJkJywgKGZvcm1EYXRhKSA9PiB7XG4gIGNvbnN0IHsgJ2ltZy11cmwnOiBsaW5rLCAndGl0bGUnOiBuYW1lIH0gPSBmb3JtRGF0YTtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxuICAgIG5hbWUsXG4gICAgbGluayxcbiAgICAnI2NhcmQtdGVtcGxhdGUnLFxuICAgIG5ldyBQb3B1cFdpdGhJbWFnZSgnI21vZGFsLXBvcHVwJylcbiAgICApO1xuICBjYXJkc1NlY3Rpb24ucHJlcGVuZChuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpKTtcbiAgY2FyZFRpdGxlSW5wdXQudmFsdWUgPSAnJztcbiAgY2FyZEltYWdlSW5wdXQudmFsdWUgPSAnJztcbiAgZm9ybUNhcmRFbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQuZGlzYWJsZWQgPSB0cnVlO1xuICBmb3JtQ2FyZEVsZW1lbnQubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCdmb3JtX19idXR0b25faW5hY3RpdmUnKTtcbn0sICcuY2FyZHMnKTtcblxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBmb3JtQ2FyZC5vcGVuKCk7XG59KTtcblxuY29uc3QgaW5pdGlhbENhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uICh7XG4gIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcbiAgICAgIGl0ZW0ubmFtZSxcbiAgICAgIGl0ZW0ubGluayxcbiAgICAgICcjY2FyZC10ZW1wbGF0ZScsXG4gICAgICBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNtb2RhbC1wb3B1cCcpXG4gICAgKTtcbiAgICBpbml0aWFsQ2FyZHNTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKSk7XG4gIH1cbn0sICcuY2FyZHMnKTtcblxuaW5pdGlhbENhcmRzU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuZm9ybU5hbWUudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLm5hbWU7XG5mb3JtQWJvdXRNZS52YWx1ZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkuYWJvdXRNZTtcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmZvcm1Qcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5mb3JtQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJuYW1lIiwibGluayIsImNhcmRUZW1wbGF0ZSIsInBvcHVwU2VsZWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9jYXJkVGVtcGxhdGUiLCJfcG9wdXBTZWxlY3RvciIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIm9wZW4iLCJfdGhpcyIsImNhcmRJbWFnZSIsIl9lbGVtZW50IiwiY2FyZFRpdGxlIiwiY2FyZERlbGV0ZUJ1dHRvbiIsImNhcmRMaWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsImNvbmNhdCIsImV2dCIsIl9oYW5kbGVEZWxldGVJY29uQ2xpY2siLCJfaGFuZGxlTGlrZUljb25DbGljayIsInRhcmdldCIsImNsb3Nlc3QiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjb250YWlucyIsInNldEF0dHJpYnV0ZSIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIlNlY3Rpb24iLCJfcmVmIiwiY2xhc3NTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImJ1dHRvbkVsZW1lbnQiLCJjaGVja1ZhbGlkaXR5IiwiZGlzYWJsZWQiLCJpbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJfcG9wdXAiLCJfaGFuZGxlQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwiaW1hZ2VBbHQiLCJpbWFnZVNyYyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybVN1Ym1pdENhbGxiYWNrIiwiZmllbGRTZWxlY3RvciIsIl9mb3JtIiwiX2Zvcm1TdWJtaXRDYWxsYmFjayIsIl9zdWJtaXRCdXR0b24iLCJfZmllbGRTZWxlY3RvciIsImlucHV0cyIsInZhbHVlcyIsImlucHV0IiwiX3RoaXMyIiwiZm9ybUlucHV0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiX3RoaXMzIiwiX2dldElucHV0VmFsdWVzIiwiX2NsZWFySW5wdXRFcnJvcnMiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0TWVTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9hYm91dE1lRWxlbWVudCIsImFib3V0TWUiLCJfcmVmMiIsImNhcmRzU2VjdGlvbiIsInByb2ZpbGVJbmZvQnV0dG9uIiwiY2FyZEFkZEJ1dHRvbiIsImNhcmRUaXRsZUlucHV0IiwiY2FyZEltYWdlSW5wdXQiLCJmb3JtUHJvZmlsZUVsZW1lbnQiLCJmb3JtQ2FyZEVsZW1lbnQiLCJmb3JtTmFtZSIsImZvcm1BYm91dE1lIiwidXNlckluZm8iLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImZvcm1Qcm9maWxlIiwic2V0VXNlckluZm8iLCJjYXJkRm9ybVZhbGlkYXRvciIsImZvcm1DYXJkIiwiZm9ybURhdGEiLCJuZXdDYXJkIiwicHJlcGVuZCIsImdlbmVyYXRlQ2FyZCIsImxhc3RFbGVtZW50Q2hpbGQiLCJpbml0aWFsQ2FyZHNTZWN0aW9uIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiZ2V0VXNlckluZm8iLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9